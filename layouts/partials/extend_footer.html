{{- /* GoatCounter Analytics */ -}}
{{ with .Site.Params.goatCounterCode }}
<script data-goatcounter="https://{{ . }}.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
{{ end }}

{{- /* Visitor counter badge - top right corner */ -}}
{{ if .Site.Params.showVisitorCount }}
<div id="visitor-counter" style="position: fixed; top: 80px; right: 20px; background: rgba(0, 0, 0, 0.85); padding: 12px 18px; border-radius: 10px; font-size: 1.2em; z-index: 999; box-shadow: 0 2px 12px rgba(0,0,0,0.5); color: #fff; font-family: monospace; display: flex; align-items: center; gap: 10px;">
  <span style="opacity: 0.9; font-size: 1.3em;">ğŸ‘ï¸</span>
  <span style="font-weight: normal; opacity: 0.8;">Visits:</span>
  <span id="visit-count" style="font-weight: bold;">---</span>
</div>
<script>
  fetch('https://{{ .Site.Params.goatCounterCode }}.goatcounter.com/counter/TOTAL.json')
    .then(response => response.json())
    .then(data => {
      document.getElementById('visit-count').textContent = data.count;
    })
    .catch(error => {
      console.error('Error fetching visitor count:', error);
    });
</script>
{{ end }}
